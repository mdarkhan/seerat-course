<!DOCTYPE html>
<html lang="bn" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>মাসউদ আলিমী - সীরাত কোর্স</title>
    
    <!-- Tailwind CSS (No build step required) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Tailwind Config for Dark Mode & Colors -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['ui-sans-serif', 'system-ui', 'sans-serif', "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"],
                        serif: ['ui-serif', 'Georgia', 'Cambria', "Times New Roman", 'Times', 'serif'],
                    },
                    colors: {
                        emerald: {
                            50: '#ecfdf5', 100: '#d1fae5', 200: '#a7f3d0', 300: '#6ee7b7', 
                            400: '#34d399', 500: '#10b981', 600: '#059669', 700: '#047857', 
                            800: '#065f46', 900: '#064e3b', 950: '#022c22',
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Animations */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fade-in 0.4s ease-out forwards;
        }
        /* Fixed Marquee Animation */
        @keyframes marquee {
            0% { transform: translateX(0); }
            100% { transform: translateX(-33.3333%); } /* Exact 1/3rd for 3 items */
        }
        .animate-marquee {
            display: flex;
            width: max-content; /* Width depends on content, not screen */
            animation: marquee 12s linear infinite; /* Constant speed */
        }
        .animate-marquee:hover {
            animation-play-state: paused;
        }
        /* Quiz Animations */
        @keyframes pop {
            0% { transform: scale(0.95); opacity: 0.5; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animate-pop {
            animation: pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800 transition-colors duration-300 min-h-screen flex flex-col">

    <!-- App Root -->
    <div id="app" class="contents">
        <!-- Content will be injected here by JavaScript -->
    </div>

    <!-- Application Logic -->
    <script>
        /**
         * ==================================================================================
         * CONFIGURATION & DATA
         * ==================================================================================
         */
        
        const COURSE_DATA = [
            {
                id: 2,
                date: "2026-01-02",
                duration: "2 hr 15 min",
                category: "seerat",
                driveLink: "https://drive.google.com/file/d/10ec8WS0aDemwlLFaavuA1_fTyV1m6x3j/view?usp=sharing",
                content: {
                    title: "সীরাত-০১ঃ সীরাত পাঠের গুরুত্ব",
                    description: "আমাদের দৈনন্দিন জীবন ও আখিরাতে সীরাত পাঠের গুরুত্ব ও পদ্ধতি সম্পর্কে আলোচনা করা হয়েছে।",
                    syllabus: `দারসের আলোচনা আর "সীরাত পাঠ" বইয়ের ১৫ থেকে ৪৫ পৃষ্ঠার মধ্যে পরবর্তী পরীক্ষা হবে ইনশা আল্লাহু তা'আলা।`,
                    resources: [
                        { 
                            label: "বইঃ সীরাত পাঠ - গুরুত্ব, পদ্ধতি ও প্রায়োগিক রুপ<br />(লেখকঃ মাওলানা খালিদ সাইফুল্লাহ রহমানী)", 
                            url: "#" 
                        }
                    ]
                },
                quiz: [
                    {
                        question: "পাঠ্য অনুসারে, সিরাত পাঠের মূল উদ্দেশ্য শুধুমাত্র একটি নির্দিষ্ট মাস বা তারিখে সীমাবদ্ধ থাকা উচিত নয় কেন?",
                        options: [
                            "কারণ সিরাত পাঠ একটি ঐচ্ছিক ইবাদত যা যেকোনো সময় করা যায়।",
                            "কারণ সিরাতের ঐতিহাসিক ঘটনাগুলো বিভিন্ন মাসে ছড়িয়ে আছে।",
                            "কারণ নবী (সাঃ) এর জীবনীর প্রতিটি দিকই মানুষের জন্য সার্বজনীন ও সার্বক্ষণিক আদর্শ।",
                            "কারণ প্রতি মাসে সিরাত পাঠের জন্য আলাদা আলাদা বই রয়েছে।"
                        ],
                        correctIndex: 2,
                        note: "এই দৃষ্টিভঙ্গিটিই পাঠ্যাংশে সমর্থিত, যেখানে সিরাতকে একটি পূর্ণাঙ্গ জীবনব্যবস্থা হিসেবে উপস্থাপন করা হয়েছে যা কোনো নির্দিষ্ট সময় বা অনুষ্ঠানের মধ্যে সীমাবদ্ধ নয়।"
                    },
                    {
                        question: "পাঠ্যাংশ অনুযায়ী, আল্লাহ্‌র প্রতি ভালোবাসা প্রমাণের জন্য কুরআন কোন শর্ত আরোপ করেছে?",
                        options: [
                            "বেশি বেশি নফল ইবাদত করা।",
                            "রাসূল (সাঃ) এর আনুগত্য ও অনুসরণ করা।",
                            "সম্পূর্ণ কুরআন মুখস্থ করা।",
                            "সকল জিহাদে অংশগ্রহণ করা।"
                        ],
                        correctIndex: 1,
                        note: "সূরা আলে ইমরানের উদ্ধৃতি দিয়ে বলা হয়েছে, 'যদি তোমরা আল্লাহকে ভালোবাসার দাবি করো, তাহলে আমার আনুগত্য ও অনুসরণ করো, তাহলে আল্লাহ তোমাদের ভালোবাসবেন'।"
                    },
                    {
                        question: "পাঠ্যাংশে উল্লিখিত হাদিস অনুসারে, একজন ব্যক্তি কখন পূর্ণ মু'মিন হতে পারে না?",
                        options: [
                            "যতক্ষণ না সে প্রতি বছর হজ পালন করে।",
                            "যতক্ষণ না সে তার সকল সম্পদ আল্লাহ্‌র রাস্তায় ব্যয় করে।",
                            "যতক্ষণ না সে দিনে পাঁচ ওয়াক্ত সালাত আদায় করে।",
                            "যতক্ষণ না রাসূল (সাঃ) তার কাছে তার পিতা-মাতা, সন্তান-সন্ততি ও সকল মানুষের চেয়ে বেশি প্রিয় হন।"
                        ],
                        correctIndex: 3,
                        note: "সহীহ বুখারীর উদ্ধৃতি দিয়ে এই বিষয়টি স্পষ্ট করা হয়েছে যে, নবীর প্রতি ভালোবাসা ঈমানের পূর্ণতার অপরিহার্য শর্ত।"
                    },
                    {
                        question: "ইসলামের ইতিহাস সংরক্ষণের ক্ষেত্রে কুরআন ও হাদিসের সাথে অন্যান্য ধর্মগ্রন্থ যেমন বাইবেলের মধ্যে মূল পার্থক্য হিসেবে কোন বিষয়টি তুলে ধরা হয়েছে?",
                        options: [
                            "ইসলামের উৎসগুলো অপরিবর্তিত ও সুরক্ষিত সনদ বা বর্ণনা-পরম্পরার মাধ্যমে সংরক্ষিত হয়েছে।",
                            "ইসলামের ধর্মগ্রন্থগুলো কাব্যিক ভাষায় লেখা, যা সহজে মনে রাখা যায়।",
                            "বাইবেলের তুলনায় কুরআন অনেক বেশি দীর্ঘ এবং বিস্তারিত।",
                            "কুরআন সরাসরি আল্লাহ্‌র কাছ থেকে এসেছে, কিন্তু বাইবেল মানুষের লেখা।"
                        ],
                        correctIndex: 0,
                        note: "পাঠ্যাংশে জোর দিয়ে বলা হয়েছে যে, কুরআন ও হাদিস প্রজন্ম থেকে প্রজন্মান্তরে নির্ভরযোগ্য বর্ণনাকারীদের ধারাবাহিকতায় (সনদ) সংরক্ষিত হয়েছে, যা বাইবেলের ক্ষেত্রে অনুপস্থিত।"
                    },
                    {
                        question: "সিরাত পাঠের আলোচনায়, কেন নবী (সাঃ)-কে মানবজাতির জন্য এক 'সার্বজনীন পথনির্দেশনা' হিসেবে বর্ণনা করা হয়েছে?",
                        options: [
                            "কারণ তিনি বিভিন্ন ভাষায় কথা বলতে পারতেন।",
                            "কারণ তাঁর জীবন ও আদর্শ কোনো নির্দিষ্ট জাতি, সময় বা ভৌগোলিক সীমারেখায় আবদ্ধ নয়।",
                            "কারণ তিনি পৃথিবীর সকল দেশ ভ্রমণ করেছিলেন।",
                            "কারণ তাঁর অনুসারীরা বর্তমানে বিশ্বজুড়ে ছড়িয়ে আছে।"
                        ],
                        correctIndex: 1,
                        note: "পাঠ্যাংশে নবী (সাঃ)-কে 'রহমাতুল্লিল আলামিন' বা সমগ্র বিশ্বের জন্য রহমত হিসেবে উল্লেখ করা হয়েছে, যা তাঁর বার্তার सार्वজনীনতাকে প্রমাণ করে।"
                    },
                    {
                        question: "পাঠ্যাংশে হিন্দুধর্মের কোন চারটি বেদের নাম উল্লেখ করা হয়েছে?",
                        options: [
                            "ঋগ্বেদ, যজুর্বেদ, অথর্ববেদ ও সামবেদ।",
                            "ঋগ্বেদ, যজুর্বেদ, রামায়ণ ও মহাভারত।",
                            "উপনিষদ, পুরাণ, গীতা ও ঋগ্বেদ।",
                            "বেদ, ব্রাহ্মণ, আরণ্যক ও উপনিষদ।"
                        ],
                        correctIndex: 0,
                        note: "এই চারটি নামই পাঠ্যাংশে হিন্দুধর্মের প্রধান ধর্মগ্রন্থ হিসেবে স্পষ্টভাবে উল্লেখ করা হয়েছে।"
                    },
                    {
                        question: "ঈসা (আঃ) এর জীবনীর নির্ভরযোগ্যতা নিয়ে আলোচনা করার সময়, পাঠ্যাংশে গসপেল বা বাইবেলের সংকলনের বিষয়ে কোন সমস্যাটি তুলে ধরা হয়েছে?",
                        options: [
                            "মূল গসপেলগুলো গ্রিক ভাষায় লেখা হয়েছিল, যা ঈসা (আঃ) এর মাতৃভাষা ছিল না।",
                            "অনেকগুলো গসপেলের মধ্যে কোনটি আসল তা নিয়ে বিতর্ক ছিল।",
                            "এগুলো তাঁর তিরোধানের অনেক পরে সংকলিত হয়েছিল এবং সংকলনকারীদের কেউই তাঁর সরাসরি সাহাবি ছিলেন না।",
                            "গসপেলগুলো ঈসা (আঃ) এর নিজের হাতে লেখা ছিল না।"
                        ],
                        correctIndex: 2,
                        note: "পাঠ্যাংশে স্পষ্টভাবে উল্লেখ করা হয়েছে যে, গসপেলগুলো ৭০ থেকে ১১০ বছর পরে সংকলিত হয় এবং সংকলকদের কেউই ঈসা (আঃ) এর প্রত্যক্ষদর্শী বা সহচর ছিলেন না।"
                    },
                    {
                        question: "সিরাতের প্রধান দুটি উৎস কী, যা সবচেয়ে নির্ভরযোগ্য ও সুরক্ষিত বলে পাঠ্যাংশে দাবি করা হয়েছে?",
                        options: [
                            "আরব কবিদের কবিতা এবং অমুসলিম ঐতিহাসিকদের লেখা।",
                            "সাহাবিদের মৌখিক বর্ণনা এবং লোকমুখে প্রচলিত কাহিনী।",
                            "কুরআন ও সুন্নাহ (হাদিস)।",
                            "ঐতিহাসিকদের লেখা বই এবং প্রত্নতাত্ত্বিক নিদর্শন।"
                        ],
                        correctIndex: 2,
                        note: "পাঠ্যাংশে স্পষ্টভাবে বলা হয়েছে যে, সিরাতের প্রধান দুটি উৎস হলো কুরআন, যা নবী (সাঃ) এর জীবদ্দশায় লিপিবদ্ধ হয় এবং সুন্নাহ, যা হাদিসের মাধ্যমে সংরক্ষিত হয়েছে।"
                    },
                    {
                        question: "পাঠ্যাংশ অনুসারে, নবী মুহাম্মদ (সাঃ) এর মিশন এবং ঈসা (আঃ) এর মিশনের মধ্যে প্রধান পার্থক্য কী ছিল?",
                        options: [
                            "মুহাম্মদ (সাঃ) একটি নতুন ধর্ম প্রচার করেছেন, কিন্তু ঈসা (আঃ) পুরাতন নিয়মকেই সংস্কার করতে এসেছিলেন।",
                            "মুহাম্মদ (সাঃ) একজন রাজা ছিলেন, কিন্তু ঈসা (আঃ) ছিলেন একজন সাধারণ প্রচারক।",
                            "মুহাম্মদ (সাঃ) এর মিশন ছিল সমগ্র মানবজাতির জন্য, অন্যদিকে ঈসা (আঃ) এর মিশন মূলত বনি ইসরাইল জাতির জন্য ছিল।",
                            "ঈসা (আঃ) অলৌকিক ঘটনা দেখাতেন, কিন্তু মুহাম্মদ (সাঃ) তা করতেন না।"
                        ],
                        correctIndex: 2,
                        note: "পাঠ্যাংশে স্পষ্টভাবে উল্লেখ করা হয়েছে যে, ঈসা (আঃ) নিজেকে 'ইসরাইল পরিবারের হারানো ভেড়া' ছাড়া আর কারো কাছে প্রেরিত হননি বলে জানিয়েছেন, কিন্তু মুহাম্মদ (সাঃ) সমগ্র বিশ্বজগতের জন্য রহমত।"
                    },
                    {
                        question: "বাইবেলে ঈসা (আঃ) এর জীবনীর কোন দিকটির অনুপস্থিতির কথা পাঠ্যাংশে উল্লেখ করা হয়েছে, যা নবী মুহাম্মদ (সাঃ) এর সিরাতে পাওয়া যায়?",
                        options: [
                            "তাঁর ধর্মীয় উপাসনা ও প্রার্থনার পদ্ধতি।",
                            "তাঁর শৈশব ও কৈশোরের বিস্তারিত বর্ণনা।",
                            "তাঁর অলৌকিক কার্যাবলীর বিবরণ।",
                            "সামাজিক, পারিবারিক, রাষ্ট্রীয় ও অর্থনৈতিক জীবনের পূর্ণাঙ্গ দিকনির্দেশনা।"
                        ],
                        correctIndex: 3,
                        note: "পাঠ্যাংশে যুক্তি দেওয়া হয়েছে যে, বাইবেল থেকে ঈসা (আঃ) এর জীবনের সামাজিক, বৈবাহিক, যুদ্ধ বা রাষ্ট্রীয় বিষয়ে কোনো স্পষ্ট আলো বা দিকনির্দেশনা পাওয়া যায় না, যা সিরাতে পাওয়া যায়।"
                    },
                    {
                        question: "নবী (সাঃ) এর শিক্ষার কোন দিকটি বৈরাগ্যবাদ বা সন্ন্যাসবাদের (monasticism) সম্পূর্ণ বিপরীত হিসেবে পাঠ্যাংশে তুলে ধরা হয়েছে?",
                        options: [
                            "বৈবাহিক জীবন, হালাল-হারামের পার্থক্য এবং দুনিয়াবি কাজকর্মের মাধ্যমে দ্বীন পালনের শিক্ষা।",
                            "কেবলমাত্র পারলৌকিক মুক্তির জন্য সকল দুনিয়াবি আকাঙ্ক্ষা ত্যাগের নির্দেশ।",
                            "সমাজের থেকে বিচ্ছিন্ন হয়ে নির্জনে ইবাদত করার গুরুত্ব।",
                            "অধিক সম্পদ অর্জনের জন্য কঠোর পরিশ্রমের নির্দেশ।"
                        ],
                        correctIndex: 0,
                        note: "পাঠ্যাংশে বলা হয়েছে যে, নবী (সাঃ) বৈরাগ্য ও সন্ন্যাসবাদকে বিলুপ্ত করে শরীয়তের মধ্যে থেকে দুনিয়ার কাজ করে দ্বীন পালনের শিক্ষা দিয়েছেন, যা একটি ভারসাম্যপূর্ণ জীবনব্যবস্থার পরিচায়ক।"
                    },
                    {
                        question: "যুদ্ধবন্দীদের সাথে নবী (সাঃ) এর আচরণের কোন ঘটনাটি জ্ঞানচর্চাকে উৎসাহিত করার এক অনন্য উদাহরণ হিসেবে পাঠ্যাংশে বর্ণিত হয়েছে?",
                        options: [
                            "যুদ্ধবন্দীদের কাছ থেকে মোটা অংকের মুক্তিপণ আদায় করা।",
                            "সকল যুদ্ধবন্দীকে বিনাশর্তে মুক্তি দেওয়া।",
                            "শিক্ষিত যুদ্ধবন্দীদেরকে নিরক্ষর মুসলিমদের শিক্ষা দেওয়ার বিনিময়ে মুক্তি দেওয়া।",
                            "সকল যুদ্ধবন্দীকে ইসলাম গ্রহণে বাধ্য করা।"
                        ],
                        correctIndex: 2,
                        note: "পাঠ্যাংশে স্পষ্টভাবে উল্লেখ করা হয়েছে যে, বদরের যুদ্ধবন্দী মুশরিকদের মুক্তিপণ হিসেবে নিরক্ষর মুসলিমদের শিক্ষা দেওয়ার দায়িত্ব দেওয়া হয়েছিল, যা 'মুসলিম শিক্ষার শিক্ষাদান' নামে পরিচিত।"
                    },
                    {
                        question: "পাঠ্যাংশ অনুযায়ী, 'তাওহিদ' বা একত্ববাদের শিক্ষা মানবজাতির জন্য কেন অপরিহার্য?",
                        options: [
                            "কারণ এটি বিভিন্ন ধর্মের মধ্যে ঐক্য প্রতিষ্ঠা করে।",
                            "কারণ এটি মানুষকে শিরক বা অংশীদারিত্বের অপমান থেকে রক্ষা করে এবং স্রষ্টার সাথে সঠিক সম্পর্ক স্থাপন করে।",
                            "কারণ এটি মানুষকে জাগতিকভাবে সফল হতে সাহায্য করে।",
                            "কারণ এটি একটি সহজ ও সরল বিশ্বাস যা সবাই সহজে গ্রহণ করতে পারে।"
                        ],
                        correctIndex: 1,
                        note: "পাঠ্যাংশে বলা হয়েছে, শিরক মানবজাতির জন্য অপমানস্বরূপ এবং তাওহিদ মানুষকে এই অপমান থেকে মুক্ত করে স্রষ্টার প্রতি তার প্রকৃত দায়িত্ব ও মর্যাদা স্মরণ করিয়ে দেয়।"
                    },
                    {
                        question: "ইসলাম-পূর্ব আরবের কোন কুসংস্কারাচ্ছন্ন প্রথা নবী (সাঃ) বাতিল করেছিলেন বলে পাঠ্যাংশে ইঙ্গিত দেওয়া হয়েছে?",
                        options: [
                            "অতিথি আপ্যায়ন করা এবং প্রতিশ্রুতি রক্ষা করা।",
                            "কবিতা লেখা এবং সাহিত্য চর্চা করা।",
                            "ব্যবসা-বাণিজ্যের জন্য দূর দেশে ভ্রমণ করা।",
                            "ভাগ্য নির্ধারণের জন্য তীর নিক্ষেপ এবং বংশ ও রক্তের কৌলীন্যের অহংকার।"
                        ],
                        correctIndex: 3,
                        note: "পাঠ্যাংশে বলা হয়েছে, নবী (সাঃ) কুসংস্কার, বংশগৌরব ও রক্তের কৌলীন্যের ধারণা বাতিল করে দিয়েছেন এবং মানুষের শ্রেষ্ঠত্বের মাপকাঠি হিসেবে তাকওয়াকে প্রতিষ্ঠা করেছেন।"
                    },
                    {
                        question: "পাঠ্যাংশ অনুসারে, একজন মুসলিমের জন্য সিরাত বা নবীজীবনী অধ্যয়নের গুরুত্ব কী?",
                        options: [
                            "শুধুমাত্র ঐতিহাসিক জ্ঞান অর্জন এবং পরীক্ষায় ভালো ফল করা।",
                            "নবী (সাঃ) কে সঠিকভাবে জানা, ভালোবাসা এবং তাঁর পরিপূর্ণ অনুসরণ করার জন্য অপরিহার্য।",
                            "আরবদের প্রাচীন ইতিহাস ও ঐতিহ্য সম্পর্কে জানা।",
                            "অন্যান্য ধর্মের অনুসারীদের সাথে তর্কে বিজয়ী হওয়া।"
                        ],
                        correctIndex: 1,
                        note: "পাঠ্যাংশে বলা হয়েছে, নবী (সাঃ) এর প্রতি ভালোবাসা ও আনুগত্যের জন্য তাঁর জীবন ও কর্ম সম্পর্কে পূর্ণাঙ্গ জ্ঞান অর্জন করা আবশ্যক, যা সিরাত পাঠের মাধ্যমেই সম্ভব।"
                    },
                    {
                        question: "পাঠ্যাংশে সিরাতকে কেন একটি 'বাস্তব ও কর্মমুখর' জীবনবিধান বলা হয়েছে, যা অন্যান্য ধর্মীয় ব্যক্তিত্বদের জীবনীর চেয়ে আলাদা?",
                        options: [
                            "কারণ সিরাতে নবীর দৈনন্দিন জীবনের প্রতিটি কাজের বিস্তারিত বর্ণনা নেই।",
                            "কারণ সিরাত শুধুমাত্র আরবদের জন্য লেখা হয়েছিল এবং তাদের জীবনযাত্রার সাথে সম্পর্কিত।",
                            "কারণ এটি কেবল আধ্যাত্মিক বিষয় নিয়ে আলোচনা করে, জাগতিক বিষয় নিয়ে নয়।",
                            "কারণ এটি শুধুমাত্র আনুষ্ঠানিকতা বা মৌসুমী উদযাপনের বিষয় নয়, বরং জীবনের প্রতিটি ক্ষেত্রে অনুসরণযোগ্য।"
                        ],
                        correctIndex: 3,
                        note: "লেখক যুক্তি দেখিয়েছেন যে, অন্যান্য জাতির মতো মুসলিমরা নবীকে শুধু স্মরণ বা পূজা করে না, বরং তাঁর দেখানো পথে নিজেদের জীবন পরিচালনা করার চেষ্টা করে, যা এটিকে বাস্তব ও কর্মমুখর করে তোলে।"
                    },
                    {
                        question: "কুরআনের কোন আয়াতটি উদ্ধৃত করে বলা হয়েছে যে, রাসূল (সাঃ) এর সিদ্ধান্ত মেনে নেওয়া ঈমানের শর্ত?",
                        options: [
                            "'... যতক্ষণ না তারা তাদের পারস্পরিক বিবাদের সময় আপনাকে فیصل্লাকারী হিসেবে মেনে না নেয় ... তারা মুসলিমই থাকবে না' (সূরা নিসা)।",
                            "'তোমাদের জন্য আল্লাহ্‌র রাসূলের মধ্যে রয়েছে সর্বোত্তম আদর্শ' (সূরা আহযাব)।",
                            "'রাসূল তোমাদেরকে যা (আদেশ) দেন, তা গ্রহণ করো; আর যা থেকে নিষেধ করেন তা থেকে বিরত থাকো' (সূরা হাশর)।",
                            "'হে প্রিয় নবী, আপনি বলে দিন, আল্লাহ ও রাসূলের আনুগত্য করো' (সূরা আলে ইমরান)।"
                        ],
                        correctIndex: 0,
                        note: "এই আয়াতটি স্পষ্টভাবে বলছে যে, রাসূল (সাঃ) এর فیصل্লা দ্বিধাহীনভাবে মেনে না নেওয়া পর্যন্ত কেউ মু'মিন হতে পারে না."
                    },
                    {
                        question: "পাঠ্যাংশে 'প্রাচ্যবিদ' বা Orientalist-দের সিরাত গবেষণার বিষয়ে কোন সতর্কবার্তা দেওয়া হয়েছে?",
                        options: [
                            "তারা সিরাতের অর্থনৈতিক দিকটিকে অতিরিক্ত গুরুত্ব দেয়।",
                            "তাদের গবেষণায় প্রায়শই ইসলাম ও নবী (সাঃ) এর প্রতি বিদ্বেষ এবং বিকৃত উপস্থাপনার উদ্দেশ্য থাকে।",
                            "তারা শুধুমাত্র কুরআনের ওপর নির্ভর করে এবং হাদিসকে উপেক্ষা করে।",
                            "তারা সিরাতকে অতিপ্রাকৃত কাহিনী হিসেবে উপস্থাপন করে।"
                        ],
                        correctIndex: 1,
                        note: "লেখক উল্লেখ করেছেন যে, দুর্ভাগ্যবশত, এ-বিষয়ে অধিকাংশ কাজ হয়েছে ইংরেজি ও অন্যান্য ইউরোপীয় ভাষায়, এবং জ্ঞান-গবেষণার আবরণে প্রায়শই বিদ্বেষমূলক প্রচারণা চালানো হয়েছে।"
                    },
                    {
                        question: "ইসলামী জ্ঞানতত্ত্ব অনুসারে, নবী বা আসমানি কিতাবের প্রয়োজনীয়তা কেন?",
                        options: [
                            "কারণ মানুষ নিজের বুদ্ধি দিয়ে জাগতিক সব সমস্যার সমাধান করতে পারে না।",
                            "কারণ এটি মানুষকে বিজ্ঞান ও প্রযুক্তিতে উন্নত হতে সাহায্য করে।",
                            "কারণ মানুষের জীবন পরিচালনার জন্য একটি নির্ভুল ও নির্ভরযোগ্য পথনির্দেশিকা প্রয়োজন যা কেবল স্রষ্টাই দিতে পারেন।",
                            "কারণ মানুষকে মৃত্যুর পরের জীবন সম্পর্কে ভয় দেখানো প্রয়োজন।"
                        ],
                        correctIndex: 2,
                        note: "পাঠ্যাংশে একটি মেশিনের ম্যানুয়ালের উদাহরণ দিয়ে বলা হয়েছে যে, যিনি সৃষ্টি করেছেন, তিনিই সবচেয়ে ভালো জানেন কীভাবে তা পরিচালিত হবে। একইভাবে, মানবজীবনের জন্য স্রষ্টার নির্দেশিকা অপরিহার্য।"
                    },
                    {
                        question: "পাঠ্যাংশে উল্লেখিত 'মুয়াত্তা' গ্রন্থটির গুরুত্ব কী?",
                        options: [
                            "এটি একটি কবিতার বই যা নবীর প্রশংসা করে লেখা হয়েছে।",
                            "এটি নবী (সাঃ) এর লেখা প্রথম সিরাত গ্রন্থ।",
                            "এটি কুরআনের প্রথম তাফসির গ্রন্থ।",
                            "এটি নবীযুগের মাত্র একশ' বছর পরে সংকলিত একটি নির্ভরযোগ্য ও প্রাচীন হাদিস গ্রন্থ।"
                        ],
                        correctIndex: 3,
                        note: "লেখক উল্লেখ করেছেন যে, ইমাম আবু হানিফার ছাত্র ইমাম মালিকের 'মুয়াত্তা' গ্রন্থটি নবীযুগের মাত্র একশ' বছর পরেই সংকলিত হয়েছিল, যা হাদিস সংরক্ষণের প্রাথমিক প্রচেষ্টার প্রমাণ।"
                    },
                    {
                        question: "পাঠ্যাংশ অনুসারে, নবী (সাঃ) কীভাবে মানুষের মধ্যে মর্যাদার ধারণাকে বদলে দিয়েছিলেন?",
                        options: [
                            "তিনি ঘোষণা করেন যে মর্যাদার মাপকাঠি হলো বংশ বা গোত্র।",
                            "তিনি সকল মানুষকে ধনী হওয়ার জন্য উৎসাহিত করেছেন।",
                            "তিনি সকল কুসংস্কার, বংশগৌরব ও বর্ণপ্রথা বাতিল করে তাকওয়া বা আল্লাহভীতিকে মর্যাদার মাপকাঠি নির্ধারণ করেন।",
                            "তিনি শারীরিক শক্তি এবং যুদ্ধ জয়ের ক্ষমতাকে মর্যাদার সর্বোচ্চ স্তর হিসেবে ঘোষণা করেন।"
                        ],
                        correctIndex: 2,
                        note: "পাঠ্যাংশে স্পষ্টভাবে বলা হয়েছে যে, তিনি মানুষের গড়া মিথ্যা মর্যাদার ধারণা বাতিল করে তাকওয়াকে একমাত্র শ্রেষ্ঠত্বের মানদণ্ড হিসেবে প্রতিষ্ঠা করেছেন।"
                    },
                    {
                        question: "লেখক কেন বলেছেন যে, সিরাত পাঠের মাধ্যমে একজন পাঠক আত্মবিশ্বাস ও চারিত্রিক দৃঢ়তা অর্জন করতে পারে?",
                        options: [
                            "কারণ সিরাতের বইগুলো খুব সহজ ভাষায় লেখা যা আত্মবিশ্বাস বাড়ায়।",
                            "কারণ সিরাত পাঠ করলে জাগতিক সম্পদ বৃদ্ধি পায়, যা মানুষকে আত্মবিশ্বাসী করে।",
                            "কারণ সিরাতে নবীর জীবনের বিভিন্ন প্রতিকূলতা ও চ্যালেঞ্জ মোকাবেলা করার ঘটনাগুলো পাঠককে অনুপ্রাণিত করে।",
                            "কারণ সিরাত পড়লে অলৌকিকভাবে মনে সাহস চলে আসে।"
                        ],
                        correctIndex: 2,
                        note: "নবীর জীবনের বিভিন্ন পর্যায়ে, যেমন মক্কী জীবনের কষ্ট বা হুদায়বিয়ার সন্ধির মতো কঠিন পরিস্থিতিতে তাঁর ধৈর্য, প্রজ্ঞা ও দৃঢ়তার উদাহরণ পাঠককে নিজের জীবনে দৃঢ় থাকতে অনুপ্রাণিত করে।"
                    },
                    {
                        question: "সিরাত গ্রন্থগুলোতে কাজ করা বিখ্যাত কয়েকজন আলেমের নাম পাঠ্যাংশে উল্লেখ করা হয়েছে। নিচের কোনটি সেই তালিকায় নেই?",
                        options: [
                            "আল্লামা ইবনে কাসির",
                            "মাওলানা আবুল হাসান আলী নদভী",
                            "মাওলানা সফিউর রহমান মোবারকপুরী",
                            "আল্লামা শিবলী নোমানী ও সাইয়েদ সুলায়মান নদভী"
                        ],
                        correctIndex: 0,
                        note: "যদিও ইবনে কাসির একজন বিখ্যাত মুফাসসির ও ঐতিহাসিক, এবং সিরাত নিয়েও তাঁর কাজ আছে, কিন্তু পাঠ্যাংশের উদাহরণ হিসেবে প্রদত্ত তালিকায় তাঁর নাম উল্লেখ করা হয়নি।"
                    },
                    {
                        question: "পাঠ্যাংশ অনুসারে, মুসলিম উম্মাহর সাথে তাদের নবীর সম্পর্ক অন্য জাতিগোষ্ঠীর সাথে তাদের ধর্মীয় ব্যক্তিত্বদের সম্পর্কের চেয়ে কীভাবে ভিন্ন?",
                        options: [
                            "মুসলিমদের সম্পর্ক বাস্তব ও প্রায়োগিক অনুসরণের, যা শুধুমাত্র আনুষ্ঠানিক বা মৌসুমী ভক্তির মধ্যে সীমাবদ্ধ নয়।",
                            "মুসলিমরা তাদের নবীর কোনো ছবি বা মূর্তি তৈরি করে না।",
                            "মুসলিমদের সম্পর্ক ভক্তি ও ভালোবাসার, কিন্তু অন্য জাতিদের সম্পর্ক শুধুমাত্র ভয়ের।",
                            "মুসলিমরা তাদের নবীর জন্মদিন খুব জাঁকজমকের সাথে পালন করে।"
                        ],
                        correctIndex: 0,
                        note: "লেখক যুক্তি দিয়েছেন যে, খ্রিস্টান বা হিন্দুদের মতো মুসলিমদের সম্পর্ক শুধুমাত্র নির্দিষ্ট দিনে বা অনুষ্ঠানে সীমাবদ্ধ থাকে না, বরং জীবনের প্রতিটি ক্ষেত্রে নবীর আদর্শ অনুসরণ করার চেষ্টা করা হয়।"
                    },
                    {
                        question: "পাঠ্যাংশে হজরত ঈসা (আঃ) সম্পর্কে বাইবেলের কোন বক্তব্যটি উদ্ধৃত করা হয়েছে যা তাঁর মিশনের সীমাবদ্ধতা নির্দেশ করে?",
                        options: [
                            "'তোমার প্রতিবেশীকে নিজের মতো ভালোবাসবে'।",
                            "'আমি ইসরাইল পরিবারের হারানো ভেড়া ছাড়া আর কারো কাছে প্রেরিত হইনি'।",
                            "'আমি এসেছি পথ, সত্য ও জীবন'।",
                            "'যারা আমার নামে একত্র হয়, আমি তাদের মধ্যে আছি'।"
                        ],
                        correctIndex: 1,
                        note: "এই উদ্ধৃতিটি স্পষ্টভাবে তাঁর মিশনের প্রাথমিক ক্ষেত্রকে বনি ইসরাইল জাতির মধ্যে সীমাবদ্ধ হিসেবে দেখায়, যা পাঠ্যাংশের যুক্তির একটি মূল অংশ।"
                    },
                    {
                        question: "পাঠ্যাংশের আলোকে, ইসলামে জ্ঞানের উদ্দেশ্য কী?",
                        options: [
                            "শুধুমাত্র তাত্ত্বিক পাণ্ডিত্য অর্জন এবং বিতর্ক প্রতিযোগিতায় জয়লাভ করা।",
                            "শুধুমাত্র ধর্মীয় জ্ঞান অর্জন করা এবং জাগতিক জ্ঞানকে পুরোপুরি বর্জন করা।",
                            "উপকারী জ্ঞান (ইলমে নাফে) অর্জন যা মানুষের জন্য কল্যাণকর এবং আল্লাহ্‌র সন্তুষ্টির কারণ হয়।",
                            "এমন জ্ঞান অর্জন করা যা দিয়ে বিপুল পরিমাণ সম্পদ ও ক্ষমতা লাভ করা যায়।"
                        ],
                        correctIndex: 2,
                        note: "নবী (সাঃ) এর দোয়া 'হে আল্লাহ! আমি আপনার কাছে উপকারী জ্ঞান... প্রার্থনা করি' থেকে এটি স্পষ্ট যে, জ্ঞানের উদ্দেশ্য হলো তা যেন কল্যাণকর ও গ্রহণযোগ্য হয়।"
                    },
                    {
                        question: "পাঠ্যাংশ অনুযায়ী, নবী (সাঃ) এর দাওয়াতের ফলে সমাজে নারীদের অবস্থানে কী ধরনের পরিবর্তন এসেছিল?",
                        options: [
                            "নারীদেরকে শুধুমাত্র ধর্মীয় শিক্ষা গ্রহণের অনুমতি দেওয়া হয়েছিল।",
                            "নারীদেরকে পুরুষের সমান উত্তরাধিকারের অধিকার দেওয়া হয়েছিল।",
                            "নারীদেরকে ঘর থেকে বের হতে সম্পূর্ণ নিষেধ করা হয়েছিল।",
                            "নারীদেরকে দাসী থেকে মুক্তি দিয়ে সম্মান ও অধিকারের আসনে প্রতিষ্ঠিত করা হয়েছিল।"
                        ],
                        correctIndex: 3,
                        note: "পাঠ্যাংশে উল্লেখ করা হয়েছে যে, ইসলাম দাসত্বের শৃঙ্খল থেকে নারীদের মুক্তি দিয়েছে এবং তাদের মা, বোন, স্ত্রী ও কন্যা হিসেবে সম্মানজনক অধিকার প্রদান করেছে, যা ছিল একটি বৈপ্লবিক পরিবর্তন।"
                    },
                    {
                        question: "সিরাত পাঠের প্রয়োজনীয়তা ব্যাখ্যা করতে গিয়ে লেখক কোন বিষয়টিকে 'আত্মিক দেউলিয়াপনা' হিসেবে আখ্যা দিয়েছেন?",
                        options: [
                            "অন্যান্য ধর্ম সম্পর্কে কোনো জ্ঞান না থাকা।",
                            "বেশি পরিমাণে সম্পদ উপার্জন করতে না পারা।",
                            "নবী (সাঃ) এর জীবন ও আদর্শ সম্পর্কে না জেনে আধুনিক জ্ঞান-বিজ্ঞানে পাণ্ডিত্য অর্জন করা।",
                            "আরবি ভাষায় কথা বলতে না পারা।"
                        ],
                        correctIndex: 2,
                        note: "লেখক আক্ষেপ করে বলেছেন যে, অনেক মুসলিম নিজেদের নবী সম্পর্কে না জেনে পাশ্চাত্য জ্ঞান-বিজ্ঞানে পারদর্শী হয়, যা তাদের আত্মিক পরিচয় সংকটের দিকে ঠেলে দেয়।"
                    }
                ]
            },
            {
                id: 4,
                date: "2026-01-09",
                duration: "1 hr 55 min",
                category: "seerat",
                driveLink: "https://drive.google.com/file/d/1ZDWo-M7Ai0EFPyO2sF19OV7X38yDWDOk/view?usp=sharing",
                content: {
                    title: "সীরাত-০২ঃ সীরাত সংরক্ষণ ও আরব জাতির ইতিহাস",
                    description: "সীরাত সংরক্ষণের বৈজ্ঞানিক পদ্ধতি, আরবের ভৌগোলিক গুরুত্ব এবং ইব্রাহিম (আ.) ও ইসমাইল (আ.)-এর ইতিহাস।",
                    summary: [
                        "সীরাত সংরক্ষণের ইতিহাস ও নির্ভরযোগ্যতা (কুরআন, সুন্নাহ, সনদ)",
                        "আরব উপদ্বীপের ভৌগোলিক ও কৌশলগত গুরুত্ব",
                        "আরব জাতির শ্রেণিবিভাগ (আরাবে বাইদাহ, আরিবাহ, মুস্তারিবাহ)",
                        "ইব্রাহিম (আ.) ও ইসমাইল (আ.)-এর মক্কায় আগমন ও কাবা নির্মাণ",
                        "আরবে মূর্তিপূজার সূচনা ও জাহেলিয়াতের প্রেক্ষাপট"
                    ],
                    syllabus: `পরীক্ষা দারস ও "সীরাতে খাতামুল আম্বিয়া" বইয়ের ২১ থেকে ২৬ নম্বর পৃষ্ঠা পর্যন্ত এর উপর হবে।`,
                    resources: [],
                    hasFamilyTree: true
                },
                quiz: []
            },
            {
                id: 5,
                date: "2026-01-16",
                duration: "2 hr 12 min",
                category: "seerat",
                driveLink: "https://drive.google.com/file/d/1kZ_1tZbT5hPbaCVFbEmeX2TbGRcE_zy-/view?usp=sharing",
                content: {
                    title: "সীরাত-০৩",
                    description: "এই ক্লাসের বিস্তারিত তথ্য ও কুইজ শীঘ্রই আপডেট করা হবে।",
                    summary: "এই ক্লাসের বিস্তারিত তথ্য ও কুইজ শীঘ্রই আপডেট করা হবে।",
                    syllabus: `পরীক্ষা দারস ও "সীরাতে খাতামুল আম্বিয়া" বইয়ের ২৬ থেকে ৪২ নম্বর পৃষ্ঠা পর্যন্ত এর উপর হবে।`,
                    resources: []
                },
                quiz: []
            }
        ];

        // DYNAMIC NOTICE LOGIC
        const latestLectureWithSyllabus = [...COURSE_DATA].reverse().find(l => l.content.syllabus);
        const GLOBAL_NOTICE = latestLectureWithSyllabus 
            ? latestLectureWithSyllabus.content.syllabus 
            : "আসসালামু আলাইকুম। নিয়মিত ক্লাস ও কুইজে অংশগ্রহণ করুন।";

        const TEXTS = {
            siteTitle: "মাসউদ আলিমী",
            subtitle: "কুরআন তাফসির ও সীরাত কোর্স",
            home: "হোম",
            searchPlaceholder: "ক্লাস খুঁজুন...",
            listen: "শুনুন",
            download: "ডাউনলোড",
            summary: "সারসংক্ষেপ",
            resources: "রিসোর্স ও নোট",
            syllabus: "পরবর্তী ক্লাসের প্রস্তুতি ও সিলেবাস",
            back: "ফিরে যান",
            playOnDrive: "ড্রাইভে প্লে করুন",
            footerText: "সর্বস্বত্ব সংরক্ষিত © ২০২৬ | মাসউদ আলিমী",
            tafsir: "তাফসির",
            seerat: "সীরাত",
            all: "সব",
            noResults: "কোনো ক্লাস খুঁজে পাওয়া যায়নি।",
            takeQuiz: "কুইজ টেস্ট দিন",
            quizTitle: "আপনার জ্ঞান যাচাই করুন",
            quizDesc: "এই ক্লাসের উপর ভিত্তি করে কুইজ টেস্ট দিন এবং নিজেকে যাচাই করুন।",
            startQuiz: "কুইজ শুরু করুন",
            question: "প্রশ্ন",
            next: "পরবর্তী",
            finish: "ফলাফল দেখুন",
            yourScore: "আপনার স্কোর",
            totalQuestions: "মোট প্রশ্ন",
            retry: "আবার চেষ্টা করুন",
            backToLecture: "ক্লাসে ফিরে যান",
            correct: "সঠিক উত্তর!",
            wrong: "ভুল উত্তর!",
            correctAnswerIs: "সঠিক উত্তরটি হলো:"
        };

        /**
         * ==================================================================================
         * STATE MANAGEMENT
         * ==================================================================================
         */
        const state = {
            darkMode: false,
            view: 'home', // 'home' | 'detail' | 'quiz'
            selectedLecture: null,
            filter: 'seerat',
            search: '',
            
            // Quiz State
            quiz: {
                active: false,
                currentQuestion: 0,
                score: 0,
                selectedOption: null, // index
                isAnswerChecked: false,
                isFinished: false,
                questions: [] // Will hold shuffled questions
            }
        };

        /**
         * ==================================================================================
         * UTILITIES
         * ==================================================================================
         */
        const getDriveEmbedLink = (url) => {
            const match = (typeof url === 'string' ? url : "").match(/\/d\/(.+)\//);
            if (match && match[1]) {
                return `https://drive.google.com/file/d/${match[1]}/preview`;
            }
            return url;
        };

        // Icon component
        const MosqueIcon = () => `
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 2v4"/>
                <path d="M10 6h4"/>
                <path d="M12 6c3.5 0 6 3 6 7h-12c0-4 2.5-7 6-7Z"/>
                <path d="M18 13v8"/>
                <path d="M6 13v8"/>
                <path d="M6 21h12"/>
                <path d="M10 21v-4a2 2 0 0 1 4 0v4"/>
            </svg>
        `;

        /**
         * ==================================================================================
         * RENDER FUNCTIONS
         * ==================================================================================
         */
        const app = document.getElementById('app');
        const body = document.body;

        function render() {
            // Apply Dark Mode Class
            if (state.darkMode) {
                document.documentElement.classList.add('dark');
                body.classList.remove('bg-stone-50', 'text-stone-800');
                body.classList.add('bg-slate-900', 'text-slate-100');
            } else {
                document.documentElement.classList.remove('dark');
                body.classList.remove('bg-slate-900', 'text-slate-100');
                body.classList.add('bg-stone-50', 'text-stone-800');
            }

            let html = '';
            
            // Header is shown in all views except quiz (to focus)
            if (state.view !== 'quiz') {
                html += renderHeader();
            }

            if (state.view === 'home') {
                html += renderNoticeBar();
                html += renderHome();
                html += renderFooter();
            } else if (state.view === 'detail') {
                html += renderDetail();
                html += renderFooter();
            } else if (state.view === 'quiz') {
                html += renderQuiz();
            }

            app.innerHTML = html;
            
            // Re-initialize icons
            lucide.createIcons();
            
            // Re-attach event listeners (since innerHTML wipes them)
            attachListeners();
            
            // Restore search focus if on home
            if(state.view === 'home') {
                const searchInput = document.getElementById('searchInput');
                if(searchInput) {
                    searchInput.value = state.search;
                    if(document.activeElement?.id === 'searchInput') searchInput.focus();
                }
            }
        }

        function renderHeader() {
            const bgClass = state.darkMode ? 'bg-slate-900/90 border-slate-700' : 'bg-white/90 border-stone-200';
            const iconBg = state.darkMode ? 'bg-emerald-600' : 'bg-emerald-500';
            const textClass = state.darkMode ? 'text-emerald-400' : 'text-emerald-700';

            return `
            <header class="sticky top-0 z-50 shadow-md backdrop-blur-md border-b ${bgClass}">
                <div class="container mx-auto px-4 py-3 flex items-center justify-between">
                    <div class="flex items-center gap-3 cursor-pointer" onclick="actions.goHome()">
                        <div class="p-2 rounded-lg ${iconBg} text-white">
                            ${MosqueIcon()}
                        </div>
                        <div>
                            <h1 class="text-lg md:text-xl font-bold leading-tight ${textClass}">${TEXTS.siteTitle}</h1>
                            <p class="text-xs opacity-70 hidden sm:block">${TEXTS.subtitle}</p>
                        </div>
                    </div>
                    <div class="flex items-center gap-3">
                        <button onclick="actions.toggleTheme()" class="p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition">
                            <i data-lucide="${state.darkMode ? 'sun' : 'moon'}" class="${state.darkMode ? 'text-amber-400' : 'text-slate-600'} w-5 h-5"></i>
                        </button>
                    </div>
                </div>
            </header>
            `;
        }

        function renderNoticeBar() {
            const colors = state.darkMode ? 'bg-emerald-900 text-emerald-100 border-emerald-800' : 'bg-emerald-600 text-white border-emerald-700';
            return `
            <div class="w-full overflow-hidden py-3 shadow-md relative z-10 border-b ${colors}">
                <div class="animate-marquee flex items-center">
                    <!-- 3 Identical Copies for Seamless Loop -->
                    <div class="flex items-center shrink-0 px-8">
                        <span class="font-extrabold flex items-center gap-2 px-2"><i data-lucide="bell-ring" class="w-4 h-4" fill="currentColor"></i> নোটিশ:</span>
                        <span class="text-base font-bold tracking-wide">${GLOBAL_NOTICE}</span>
                    </div>
                     <div class="flex items-center shrink-0 px-8">
                        <span class="font-extrabold flex items-center gap-2 px-2"><i data-lucide="bell-ring" class="w-4 h-4" fill="currentColor"></i> নোটিশ:</span>
                        <span class="text-base font-bold tracking-wide">${GLOBAL_NOTICE}</span>
                    </div>
                     <div class="flex items-center shrink-0 px-8">
                        <span class="font-extrabold flex items-center gap-2 px-2"><i data-lucide="bell-ring" class="w-4 h-4" fill="currentColor"></i> নোটিশ:</span>
                        <span class="text-base font-bold tracking-wide">${GLOBAL_NOTICE}</span>
                    </div>
                </div>
            </div>
            `;
        }

        function renderHome() {
            const heroBg = state.darkMode ? 'bg-gradient-to-br from-slate-800 to-slate-900 border-slate-700' : 'bg-gradient-to-br from-white to-emerald-50 border-emerald-100 shadow-sm';
            const heroText = state.darkMode ? 'text-emerald-100' : 'text-emerald-900';
            const barBg = state.darkMode ? 'bg-emerald-500' : 'bg-emerald-600';
            
            const filtered = COURSE_DATA.filter(l => {
                const matchesSearch = l.content.title.toLowerCase().includes(state.search.toLowerCase()) || 
                                      l.content.description.toLowerCase().includes(state.search.toLowerCase());
                const matchesCategory = state.filter === 'all' || l.category === state.filter;
                return matchesSearch && matchesCategory;
            });

            return `
            <main class="container mx-auto px-4 py-6 md:py-10 min-h-[calc(100vh-140px)] animate-fade-in">
                
                <div class="rounded-2xl p-6 md:p-10 text-center space-y-4 border mb-8 ${heroBg}">
                    <div class="flex justify-center mb-2">
                        <div class="h-1 w-20 rounded-full ${barBg}"></div>
                    </div>
                    <h2 class="text-2xl md:text-4xl font-serif font-bold ${heroText}">${TEXTS.subtitle}</h2>
                    <p class="max-w-2xl mx-auto opacity-80 leading-relaxed">
                        কুরআনের গভীর জ্ঞান এবং রাসূল (সা.) এর জীবনের শিক্ষণীয় ঘটনাবলী জানতে আমাদের এই আয়োজন। নিচে সকল ক্লাসের তালিকা দেয়া হলো।
                    </p>
                </div>

                <div class="flex flex-col md:flex-row gap-4 justify-between items-center sticky top-20 z-30 py-2 mb-8">
                    <div class="flex gap-2 overflow-x-auto w-full md:w-auto pb-2 md:pb-0 hide-scrollbar">
                        ${['all', 'tafsir', 'seerat'].map(cat => {
                            const isActive = state.filter === cat;
                            const activeClass = state.darkMode ? 'bg-emerald-600 text-white' : 'bg-emerald-600 text-white shadow-md';
                            const inactiveClass = state.darkMode ? 'bg-slate-800 hover:bg-slate-700' : 'bg-white hover:bg-stone-100 border border-stone-200';
                            return `<button onclick="actions.setFilter('${cat}')" class="px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${isActive ? activeClass : inactiveClass}">${cat === 'all' ? TEXTS.all : TEXTS[cat]}</button>`
                        }).join('')}
                    </div>
                    <div class="relative w-full md:w-64">
                        <input id="searchInput" type="text" placeholder="${TEXTS.searchPlaceholder}" 
                            class="w-full pl-10 pr-4 py-2 rounded-full border focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all ${state.darkMode ? 'bg-slate-800 border-slate-700 placeholder-slate-500 text-white' : 'bg-white border-stone-200 placeholder-stone-400'}"
                            oninput="actions.setSearch(this.value)"
                            value="${state.search}"
                        >
                        <i data-lucide="search" class="absolute left-3 top-2.5 opacity-50 w-4 h-4"></i>
                    </div>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    ${filtered.length > 0 ? filtered.map(lecture => renderLectureCard(lecture)).join('') : renderEmptyState()}
                </div>
            </main>
            `;
        }

        function renderLectureCard(lecture) {
            const cardBg = state.darkMode ? 'bg-slate-800 border-slate-700 hover:border-emerald-500/50' : 'bg-white border-stone-200 hover:border-emerald-300';
            const catColor = lecture.category === 'tafsir' ? 'bg-emerald-500' : 'bg-amber-500';
            const badgeBg = state.darkMode ? 'bg-slate-700 text-slate-300' : 'bg-stone-100 text-stone-600';
            const titleColor = state.darkMode ? 'text-slate-100' : 'text-slate-800';

            return `
            <div onclick="actions.selectLecture(${lecture.id})" class="group cursor-pointer rounded-xl overflow-hidden border transition-all hover:shadow-lg hover:-translate-y-1 ${cardBg}">
                <div class="h-3 w-full ${catColor}"></div>
                <div class="p-5 space-y-3">
                    <div class="flex justify-between items-start">
                        <span class="text-xs font-bold px-2 py-1 rounded uppercase tracking-wider ${badgeBg}">${TEXTS[lecture.category]}</span>
                        <div class="flex items-center gap-1 text-xs opacity-60">
                            <i data-lucide="calendar" class="w-3 h-3"></i> <span>${lecture.date}</span>
                        </div>
                    </div>
                    <h3 class="text-lg font-bold leading-snug group-hover:text-emerald-500 transition-colors ${titleColor}">${lecture.content.title}</h3>
                    <p class="text-sm opacity-70 line-clamp-2">${lecture.content.description}</p>
                    <div class="pt-3 flex items-center justify-between border-t border-dashed border-gray-500/30 opacity-70 mt-2">
                         <div class="flex items-center gap-1 text-xs">
                           <i data-lucide="clock" class="w-3 h-3"></i> <span>${lecture.duration}</span>
                         </div>
                         <div class="flex items-center gap-1 text-xs font-semibold text-emerald-500">
                           ${TEXTS.listen} <i data-lucide="arrow-left" class="w-3 h-3 rotate-180"></i>
                         </div>
                    </div>
                </div>
            </div>
            `;
        }

        function renderEmptyState() {
            return `
            <div class="col-span-full text-center py-20 opacity-50">
                <div class="inline-block p-4 rounded-full bg-gray-100 dark:bg-slate-800 mb-2">
                    <i data-lucide="search" class="w-6 h-6"></i>
                </div>
                <p>${TEXTS.noResults}</p>
            </div>
            `;
        }

        function renderDetail() {
            const l = state.selectedLecture;
            const cardBg = state.darkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-stone-200';
            const titleColor = state.darkMode ? 'text-emerald-100' : 'text-emerald-900';
            const badgeClass = l.category === 'tafsir' 
                ? 'bg-emerald-100 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-200' 
                : 'bg-amber-100 text-amber-800 dark:bg-amber-900 dark:text-amber-200';
            
            const playerBg = state.darkMode ? 'bg-slate-900' : 'bg-stone-50';

            const resourcesHTML = l.content.resources.length > 0 
                ? `<ul class="space-y-2">` + l.content.resources.map(res => `
                    <li><a href="${res.url}" class="flex items-center gap-2 text-sm p-3 rounded-lg transition-colors ${state.darkMode ? 'bg-slate-700/50 hover:bg-slate-700 text-emerald-400' : 'bg-emerald-50 hover:bg-emerald-100 text-emerald-800'}">
                        <i data-lucide="external-link" class="w-3 h-3"></i> ${res.label}
                    </a></li>
                  `).join('') + `</ul>`
                : `<p class="text-sm opacity-50 italic">কোনো নোট যুক্ত করা হয়নি</p>`;

            // Quiz Section (Replacing Summary)
            const hasQuiz = l.quiz && l.quiz.length > 0;
            const quizHTML = hasQuiz ? `
                <div class="bg-gradient-to-br from-emerald-600 to-emerald-800 rounded-xl p-6 text-white text-center shadow-lg relative overflow-hidden">
                    <div class="absolute top-0 right-0 p-4 opacity-20"><i data-lucide="help-circle" class="w-24 h-24"></i></div>
                    <div class="relative z-10">
                        <h3 class="text-xl font-bold mb-2 flex items-center justify-center gap-2">
                             ${TEXTS.quizTitle}
                        </h3>
                        <p class="opacity-90 mb-6 text-sm max-w-md mx-auto">${TEXTS.quizDesc}</p>
                        <button onclick="actions.startQuiz()" class="bg-white text-emerald-800 px-8 py-3 rounded-full font-bold hover:bg-emerald-50 hover:scale-105 transition-all shadow-xl inline-flex items-center gap-2">
                            <i data-lucide="clipboard-list" class="w-5 h-5"></i> ${TEXTS.takeQuiz}
                        </button>
                    </div>
                </div>
            ` : '';

            return `
            <main class="container mx-auto px-4 py-6 md:py-10 min-h-[calc(100vh-140px)] animate-fade-in">
                <div class="max-w-4xl mx-auto space-y-6">
                    <button onclick="actions.goHome()" class="flex items-center gap-2 text-sm font-medium hover:text-emerald-500 transition-colors ${state.darkMode ? 'text-slate-400' : 'text-slate-600'}">
                        <i data-lucide="arrow-left" class="w-4 h-4"></i> ${TEXTS.back}
                    </button>

                    <div class="rounded-2xl p-6 md:p-8 border shadow-sm ${cardBg}">
                        
                        <!-- Header -->
                        <div class="mb-6 space-y-2">
                            <div class="flex flex-wrap gap-2 items-center mb-2">
                                <span class="text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider ${badgeClass}">${TEXTS[l.category]}</span>
                                <span class="text-xs opacity-60 flex items-center gap-1"><i data-lucide="calendar" class="w-3 h-3"></i> ${l.date}</span>
                                <span class="text-xs opacity-60 flex items-center gap-1"><i data-lucide="clock" class="w-3 h-3"></i> ${l.duration}</span>
                            </div>
                            <h1 class="text-2xl md:text-3xl font-bold font-serif ${titleColor}">${l.content.title}</h1>
                            <p class="opacity-80 text-lg">${l.content.description}</p>
                        </div>

                        <!-- Player Area -->
                        <div class="p-4 rounded-xl mb-8 flex flex-col items-center justify-center gap-4 ${playerBg}">
                            <div class="w-full flex flex-col items-center text-center gap-2">
                                <div class="w-full max-w-2xl bg-emerald-900 rounded-lg overflow-hidden shadow-lg relative animate-fade-in">
                                    <div class="p-2 text-center text-xs text-white/70 bg-emerald-800/50">
                                        <i data-lucide="info" class="w-3 h-3 inline mr-1"></i> গুগল ড্রাইভের বড় ফাইলের ক্ষেত্রে "Virus Scan Warning" দেখানো স্বাভাবিক।
                                    </div>
                                    <iframe src="${getDriveEmbedLink(l.driveLink)}" class="w-full h-[120px] border-0" allow="autoplay" loading="lazy" title="Audio Player"></iframe>
                                </div>
                                <div class="flex flex-col items-center gap-2 mt-6 border-t border-dashed border-gray-500/30 w-full max-w-md pt-4 opacity-80">
                                    <a href="${l.driveLink}" target="_blank" class="flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2.5 rounded-full font-medium transition-transform active:scale-95 shadow-lg shadow-emerald-500/30">
                                        <i data-lucide="play" class="w-4 h-4" fill="currentColor"></i> ${TEXTS.playOnDrive} / ${TEXTS.download}
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Syllabus -->
                        ${l.content.syllabus ? `
                        <div class="p-5 rounded-xl border-l-4 shadow-sm mb-6 ${state.darkMode ? 'bg-indigo-900/20 border-indigo-500 text-indigo-100' : 'bg-indigo-50 border-indigo-500 text-indigo-900'}">
                            <div class="flex items-start gap-3">
                                <i data-lucide="book-marked" class="w-5 h-5 shrink-0 mt-1 text-indigo-500"></i>
                                <div>
                                    <h3 class="font-bold text-lg mb-2">${TEXTS.syllabus}</h3>
                                    <p class="leading-relaxed opacity-90">${l.content.syllabus}</p>
                                </div>
                            </div>
                        </div>
                        ` : ''}

                        <!-- Content Grid: Quiz Button & Resources -->
                        <div class="grid md:grid-cols-3 gap-8">
                            <div class="md:col-span-2 space-y-4">
                                ${hasQuiz ? quizHTML : '<p class="opacity-50 italic text-center py-4">এই ক্লাসের জন্য কোনো কুইজ নেই।</p>'}
                            </div>
                            <div class="space-y-4">
                                <h3 class="text-lg font-bold flex items-center gap-2 pb-2 border-b border-dashed border-gray-500/30 opacity-50">
                                    <i data-lucide="download" class="w-4 h-4"></i> ${TEXTS.resources}
                                </h3>
                                ${resourcesHTML}
                            </div>
                        </div>

                    </div>
                </div>
            </main>
            `;
        }

        function renderQuiz() {
            const qState = state.quiz;
            const quizData = qState.questions; // Use shuffled questions
            const currentQ = quizData[qState.currentQuestion];

            const bgClass = state.darkMode ? 'bg-slate-900 text-white' : 'bg-stone-50 text-stone-900';
            const cardBg = state.darkMode ? 'bg-slate-800 border-slate-700' : 'bg-white border-stone-200';
            
            // Result Screen
            if (qState.isFinished) {
                const percentage = Math.round((qState.score / quizData.length) * 100);
                let message = "";
                let icon = "";
                if (percentage >= 80) { message = "মাশাআল্লাহ! দুর্দান্ত হয়েছে।"; icon = "trophy"; }
                else if (percentage >= 50) { message = "ভালো হয়েছে, তবে আরও ভালো করা সম্ভব।"; icon = "thumbs-up"; }
                else { message = "দুঃখিত! আরও মনোযোগ দিয়ে ক্লাসটি করুন।"; icon = "book-open"; }

                return `
                <div class="min-h-screen flex items-center justify-center p-4 animate-fade-in ${bgClass}">
                    <div class="max-w-md w-full rounded-2xl shadow-2xl overflow-hidden ${cardBg} border p-8 text-center">
                        <div class="w-24 h-24 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center mx-auto mb-6">
                            <i data-lucide="${icon}" class="w-12 h-12"></i>
                        </div>
                        <h2 class="text-3xl font-bold mb-2">${TEXTS.yourScore}</h2>
                        <div class="text-5xl font-extrabold text-emerald-500 mb-2">${qState.score} / ${quizData.length}</div>
                        <p class="opacity-70 mb-8">${message}</p>
                        
                        <div class="flex flex-col gap-3">
                            <button onclick="actions.retryQuiz()" class="w-full py-3 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white font-bold transition">
                                ${TEXTS.retry}
                            </button>
                            <button onclick="actions.exitQuiz()" class="w-full py-3 rounded-xl border border-gray-300 hover:bg-gray-100 dark:border-gray-600 dark:hover:bg-slate-700 transition">
                                ${TEXTS.backToLecture}
                            </button>
                        </div>
                    </div>
                </div>
                `;
            }

            // Question Screen
            return `
            <div class="min-h-screen flex flex-col ${bgClass} animate-fade-in">
                <!-- Quiz Header -->
                <div class="p-4 border-b ${state.darkMode ? 'border-slate-700 bg-slate-800' : 'border-stone-200 bg-white'} flex items-center justify-between">
                    <button onclick="actions.exitQuiz()" class="p-2 opacity-60 hover:opacity-100"><i data-lucide="x" class="w-6 h-6"></i></button>
                    <div class="font-bold text-lg">${TEXTS.question} ${qState.currentQuestion + 1} / ${quizData.length}</div>
                    <div class="w-8"></div> <!-- Spacer -->
                </div>

                <!-- Progress Bar -->
                <div class="w-full h-1.5 bg-gray-200 dark:bg-gray-700">
                    <div class="h-full bg-emerald-500 transition-all duration-300" style="width: ${((qState.currentQuestion + 1) / quizData.length) * 100}%"></div>
                </div>

                <!-- Content -->
                <div class="flex-1 flex flex-col justify-center p-4 max-w-2xl mx-auto w-full">
                    <div class="text-xl md:text-2xl font-bold mb-8 text-center leading-relaxed">
                        ${currentQ.question}
                    </div>

                    <div class="space-y-3">
                        ${currentQ.options.map((option, index) => {
                            let optionClass = state.darkMode 
                                ? 'bg-slate-800 border-slate-700 hover:bg-slate-700' 
                                : 'bg-white border-stone-200 hover:bg-stone-50 shadow-sm';
                            
                            let icon = '';

                            if (qState.isAnswerChecked) {
                                if (index === currentQ.correctIndex) {
                                    optionClass = 'bg-emerald-100 border-emerald-500 text-emerald-800 dark:bg-emerald-900 dark:text-emerald-100 dark:border-emerald-500 ring-1 ring-emerald-500';
                                    icon = '<i data-lucide="check-circle" class="w-5 h-5 text-emerald-600"></i>';
                                } else if (index === qState.selectedOption) {
                                    optionClass = 'bg-rose-100 border-rose-500 text-rose-800 dark:bg-rose-900 dark:text-rose-100 dark:border-rose-500 ring-1 ring-rose-500';
                                    icon = '<i data-lucide="x-circle" class="w-5 h-5 text-rose-600"></i>';
                                } else {
                                    optionClass += ' opacity-50 cursor-not-allowed';
                                }
                            }

                            return `
                            <button 
                                onclick="${!qState.isAnswerChecked ? `actions.checkAnswer(${index})` : ''}"
                                class="w-full p-4 rounded-xl border-2 text-left font-medium transition-all flex items-center justify-between group ${optionClass}"
                            >
                                <span>${option}</span>
                                ${icon}
                            </button>
                            `;
                        }).join('')}
                    </div>

                    <!-- Feedback Area (Only shown after answer) -->
                    ${qState.isAnswerChecked ? `
                        <div class="mt-8 animate-pop">
                            ${qState.selectedOption === currentQ.correctIndex 
                                ? `<div class="p-4 rounded-lg bg-emerald-100 text-emerald-800 dark:bg-emerald-900/50 dark:text-emerald-200 font-bold text-center mb-4">
                                     ${TEXTS.correct}
                                     ${currentQ.note ? `<div class="mt-2 text-sm font-normal opacity-90">${currentQ.note}</div>` : ''}
                                   </div>`
                                : `<div class="p-4 rounded-lg bg-rose-100 text-rose-800 dark:bg-rose-900/50 dark:text-rose-200 text-center mb-4">
                                     <div class="font-bold mb-1">${TEXTS.wrong}</div>
                                     <div class="text-sm opacity-90">${TEXTS.correctAnswerIs} ${currentQ.options[currentQ.correctIndex]}</div>
                                     ${currentQ.note ? `<div class="mt-2 text-sm font-normal opacity-90 text-rose-700 dark:text-rose-300 border-t border-rose-200 dark:border-rose-800 pt-2">${currentQ.note}</div>` : ''}
                                   </div>`
                            }
                            <button onclick="actions.nextQuestion()" class="w-full py-4 rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white font-bold shadow-lg flex items-center justify-center gap-2">
                                ${qState.currentQuestion < quizData.length - 1 ? TEXTS.next : TEXTS.finish} <i data-lucide="arrow-right" class="w-5 h-5"></i>
                            </button>
                        </div>
                    ` : ''}

                </div>
            </div>
            `;
        }

        function renderEmptyState() {
            return `
            <div class="col-span-full text-center py-20 opacity-50">
                <div class="inline-block p-4 rounded-full bg-gray-100 dark:bg-slate-800 mb-2">
                    <i data-lucide="search" class="w-6 h-6"></i>
                </div>
                <p>${TEXTS.noResults}</p>
            </div>
            `;
        }

        function renderFooter() {
            return `
            <footer class="py-6 text-center text-sm opacity-60 border-t ${state.darkMode ? 'border-slate-800' : 'border-stone-200'}">
                <div class="container mx-auto px-4">
                    <p>${TEXTS.footerText}</p>
                </div>
            </footer>
            `;
        }

        /**
         * ==================================================================================
         * ACTIONS & EVENTS
         * ==================================================================================
         */
        const actions = {
            toggleTheme: () => {
                state.darkMode = !state.darkMode;
                render();
            },
            goHome: () => {
                state.view = 'home';
                state.selectedLecture = null;
                render();
            },
            setFilter: (cat) => {
                state.filter = cat;
                render();
            },
            setSearch: (val) => {
                state.search = val;
                if(state.view === 'home') render(); 
            },
            selectLecture: (id) => {
                state.selectedLecture = COURSE_DATA.find(l => l.id === id);
                state.view = 'detail';
                state.playbackRate = 1.0;
                window.scrollTo(0,0);
                render();
            },
            // QUIZ ACTIONS
            startQuiz: () => {
                // Clone and shuffle questions
                const questions = [...state.selectedLecture.quiz];
                for (let i = questions.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [questions[i], questions[j]] = [questions[j], questions[i]];
                }

                state.quiz = {
                    active: true,
                    currentQuestion: 0,
                    score: 0,
                    selectedOption: null,
                    isAnswerChecked: false,
                    isFinished: false,
                    questions: questions
                };
                state.view = 'quiz';
                render();
            },
            checkAnswer: (optionIndex) => {
                const qState = state.quiz;
                const currentQ = qState.questions[qState.currentQuestion];
                
                qState.selectedOption = optionIndex;
                qState.isAnswerChecked = true;
                
                if (optionIndex === currentQ.correctIndex) {
                    qState.score++;
                }
                render();
            },
            nextQuestion: () => {
                const qState = state.quiz;
                const total = qState.questions.length;
                
                if (qState.currentQuestion < total - 1) {
                    qState.currentQuestion++;
                    qState.selectedOption = null;
                    qState.isAnswerChecked = false;
                } else {
                    qState.isFinished = true;
                }
                render();
            },
            retryQuiz: () => {
                actions.startQuiz();
            },
            exitQuiz: () => {
                state.view = 'detail';
                render();
            }
        };

        function attachListeners() {
            // No global listeners needed
        }

        // Initialize
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            state.darkMode = true;
        }
        render();

    </script>
</body>
</html>
